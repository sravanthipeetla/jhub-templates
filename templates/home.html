{% extends "templates/page.html" %} {% if announcement_home %} {% set
    announcement = announcement_home %} {% endif %} {% block nav_bar_left_items%} {%
    if user.admin %} {{ super() }}
    {% endif %}
    {% endblock %}
    {% block main %}
    <style>
        .navbar-default {
            background-color: #ffffff;
            border: none;
        }
        .container-fluid{
            padding: 1.5rem;
        }
        .navbar-collapse{
            font-size: 1.6rem;
        }
        #jupyterhub-logo .jpy-logo {
            height: 3.5rem;
        }
    
       .btn-lg {
            font-size: 1.6rem;
            height: 4.5rem;
            width: calc(12vw - 2rem);
            border-radius: 4rem !important;
            margin-right: calc(2vw - 2rem);
        }
    
        .btn-default {
            border: none;
            color: #5fbef0;
        }
    
        .btn-primary {
            background-color: #5fbef0;
            border: transparent;
        }
    
        .text-center {
            padding-top: 15rem;
        }
    
       .server-info {
            font-size: 2rem;
            font-weight: 500;
        }
    
        .server-gif {
            padding-top: 10rem;
        }
    
        @media (max-width: 2560px) {
            .container-fluid {
                padding: 2.5rem;
            }
            
            .navbar-collapse{
                font-size: 1.6rem;
            }
            
            #logout {
                font-size: 1.6rem;
            }
            #jupyterhub-logo .jpy-logo {
                height: 4.5rem;
            }
            .navbar-nav{
                margin-left: 2vw;
            }
            .server-info {
                font-size: 3rem;
                font-weight: 500;
            }
            .btn-lg {
                font-size: 2.5rem;
                padding: 1.5rem;;
                height: 6.5rem;
                width: calc(12vw - 2rem);
            }
            .server-gif {
                height: 50rem;
            }
           
        }
    
        @media (max-width: 2400px) {
            .btn-lg {
                font-size: 2.2rem;
            }   
        }
        @media (max-width: 2100px){
            .server-info {
                font-size: 2.5rem;
                font-weight: 500;
            }
            .btn-lg {
                font-size: 2rem;
                height: 6rem;
                width: calc(13vw - 2rem);
            }
            .server-gif {
                height: 40rem;
            }
        }
        @media (max-width: 1920px){
            #jupyterhub-logo .jpy-logo {
                height: 4rem;
            }
            .server-info {
                font-size: 2.2rem;
            }
            .btn-lg {
                font-size: 1.6rem;
                padding: 1.5rem;
                height: 5rem;
            } 
        }
        @media (max-width: 1700px){
            .btn-lg {
                font-size: 1.8rem;
                height: 5.5rem;
                width: calc(15vw - 2rem);
                margin-right: calc(3vw - 2rem);
            }
            .navbar-collapse {
                font-size: 1.8rem;
            }
            #logout {
                font-size: 1.8rem;
            }
        }
        @media (max-width: 1400px){
            .btn-lg {
                font-size: 1.6rem;
                height: 5.4rem;
                width: calc(17vw - 2rem);
            }
            .text-center {
                padding-top: 2rem;
            }
            .server-gif {
                padding-top: 2rem;
                height: 30rem;
            }
        }
        @media (max-width: 1200px){
            .btn-lg {
                width: calc(20vw - 2rem);
                height: 5rem;
            }
            .navbar-collapse {
                font-size: 1.6rem;
            }
            #logout {
                font-size: 1.6rem;
            }
            .text-center {
                padding-top: 2rem;
            }
            .server-gif {
                padding-top: 4rem;
            }
        }
        @media (max-width: 1100px){
            .server-info {
                font-size: 2rem;
            }
            .btn-lg {
                margin-right: calc(4vw - 2rem);
            }
        }
        @media (max-width: 900px){
            .btn-lg {
                font-size: 1.4rem;
            }
            .server-info {
                font-size: 1.8rem;
            }
            .btn-lg {
                width: calc(24vw - 2rem);
                height: 4.5rem;
                font-size: 1.4rem;
                padding: 1rem;
            }
        }
        @media (max-width: 780px){
            .navbar-collapse {
                font-size: 1.4rem;
            }
            #logout {
                font-size: 1.4rem;
            }
            #jupyterhub-logo .jpy-logo {
                height: 3rem;
            }
        }
        @media (max-width: 692px){
            #jupyterhub-logo .jpy-logo {
                height: 2.5rem;
            }
            .btn-lg {
                width: calc(27vw - 2rem);
                height: 4rem;
            }
            .navbar-nav {
                margin-left: 0vw;
            }
        }
        @media (max-width: 612px){
            .server-info {
                font-size: 1.6rem;
            }
        }
        @media (max-width: 425px){
            .btn-lg {
                width: calc(38vw - 2rem);
                margin-left: 1rem;
            }
            .server-gif {
                height: 20rem;
            }
        }
        @media (max-width: 320px){
            .server-info {
                font-size: 1.2rem;
            }
            .btn-lg {
                width: calc(45vw - 2rem);
                margin-left: 2rem;
            }
        }
    </style>
    <div class='container'>
        <div class='row'>
            <div class='text-center'>
                {% if default_server.active %}
                {{named_spawners}}
                <span class='server-info' id='server-info'>Your workspace is still running. You can stop or go back to your workspace
                    again.</span>
                <br />
                <br />
                <br />
                <a id='stop' role='button' class='btn btn-lg btn-danger'>
                    Stop My Workspace
                </a>
                {% endif %}
                <span class='server-info' id='server-info'></span>
                <a id='start' role='button' class='btn btn-lg btn-primary' href='{{ url }}'>
                    {% if not default_server.active %}Start{% endif %} My Workspace
                </a>
                <br />
                <img class='server-gif'
                    src='https://ik.imagekit.io/iwwbj9so6/Server_gif_hzHBX49u0.gif?ik-sdk-version=javascript-1.4.3&updatedAt=1661754020935' />
            </div>
        </div>
    </div>
    {% endblock main %}
    {% block script %}
    {{ super() }}
    <script type="text/javascript">
        require(["home"]);
        
        //custom script
        
        // To change the color for active link in top left navbar items
        const currentUrl = window.location.href.split('/');
        const currentAnchorTagText = currentUrl[currentUrl.length - 1];
        $('.navbar-nav a').each(function () {
          if ($(this).text().toLowerCase() == currentAnchorTagText) {
            $(this).css('color', '#006BB6');
          }
        });
    
        // To hide left navbar items - 'Token' and 'services'
        const navbarLeftList = document.getElementsByClassName('nav navbar-nav')[0].getElementsByTagName('li');
        navbarLeftList[1].style.visibility = 'hidden';
        navbarLeftList[3].style.visibility = 'hidden';
        
        //server-info change
        const serverInfo=document.getElementById('server-info');
        
        const stopServerInfo=()=>{
            if(!document.getElementById('stop')){
                serverInfo.innerText='Your workspace is down. You can go to your workspace after starting.'
                document.getElementById('start').style.marginTop='20px';
                const lineBreak = document.createElement('br');
                serverInfo.appendChild(lineBreak);
            }
        }
        if(document.getElementById('stop')){
            const serverStop=document.getElementById('stop');
            serverStop.onclick=()=>{
                serverInfo.innerText='Your workspace is stopping. Please wait...'
            }
            setTimeout(()=>{window.location.reload();}, 4200);
        }
        if(!document.getElementById('stop')){
            stopServerInfo();
        }
    </script>
    {% endblock %}
    
